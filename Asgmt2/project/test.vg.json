{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "title": {
      "text": "Popular State Monthly Temperature"
    },
    "description": "hello im description.",
    "data": {
      "url": "https://raw.githubusercontent.com/imswagk727/FIT3179/main/Asgmt2/project/data/temp_us.csv"
    },
    "params": [
      {
        "name": "state_selection",
        "value": "California",
        "bind": {
          "input": "select",
          "options": [
            "Alaska",
            "California",
            "Connecticut",
            "Florida",
            "Hawaii",
            "Illinois",
            "Massachusetts",
            "Michigan",
            "Nevada",
            "New York"
          ],
          "labels": [
            "Alaska",
            "California",
            "Connecticut",
            "Florida",
            "Hawaii",
            "Illinois",
            "Massachusetts",
            "Michigan",
            "Nevada",
            "New York"
          ],
          "name": "State Selection: "
        }
      }
    ],
    "transform": [
      {
        "filter": "datum.state == state_selection"
      },
      {
        "calculate": "(datum.min-32) * 5 / 9",
        "as": "Low"
      },
      {
        "calculate": "(datum.max-32) * 5 / 9",
        "as": "High"
      }
    ],
    "encoding": {
      "x": {
        "field": "Month",
        "type": "nominal",
        "axis": {
          "domain": false,
          "ticks": false,
          "labelAngle": 0,
          "labelPadding": 4
        },
        "sort": [
          "1",
          "2",
          "3"
        ]
      },
      "y": {
        "field": "Low",
        "type": "quantitative",
        "scale": {
          "domain": [
            -20,
            40
          ]
        },
        "axis": {
          "gridColor": {
            "condition": {
              "test": "datum.value === 0",
              "value": "black"
            },
            "value": "#ddd"
          }
        }
      },
      "y2": {
        "field": "High"
      },
      "tooltip": [
        {
          "field": "Month",
          "type": "nominal"
        },
        {
          "field": "High",
          "type": "quantitative",
          "format": ".1f"
        },
        {
          "field": "Low",
          "type": "quantitative",
          "format": ".1f"
        }
      ]
    },
    "layer": [
      {
        "mark": "line",
        "encoding": {
            "color": {"value": "black"}
        }
        
      },
      {
        "mark": {"type": "point","filled": true},
        "encoding": {
            "y": {
                "field": "Low"
            },
            "color": {"value": "black"}
        }
      },
      {
        "mark": {"type": "point","filled": true},
        "encoding": {
            "y": {
                "field": "High"
            },
            "color": {"value": "black"}
        }
      }
    ]
  }